vlans:
    main:
        vid: 100
        description: "Primary VLAN"
        unicast_flood: True

dps:
    s1:  # Core Switch
        dp_id: 0x1
        hardware: "Open vSwitch"
        stack:
            priority: 1
        interfaces:
            1:
                description: "Core -> Agg1"
                stack:
                   dp: s2
                   port: 1
            2:
                description: "Core -> Agg2"
                stack:
                   dp: s3
                   port: 1

    s2:  # Aggregation 1
        dp_id: 0x2
        hardware: "Open vSwitch"
        interfaces:
            1:
                description: "Agg1 -> Core"
                stack:
                   dp: s1
                   port: 1
            2:
                description: "Agg1 -> Agg2"
                stack:
                   dp: s3
                   port: 2
            3:
                description: "Agg1 -> Access1"
                stack:
                   dp: s4
                   port: 4
            4:
                description: "Agg1 -> Access2"
                stack:
                   dp: s5
                   port: 4

    s3:  # Aggregation 2
        dp_id: 0x3
        hardware: "Open vSwitch"
        interfaces:
            1:
                description: "Agg2 -> Core"
                stack:
                   dp: s1
                   port: 2
            2:
                description: "Agg2 -> Agg1"
                stack:
                   dp: s2
                   port: 2
            3:
                description: "Agg2 -> Access1"
                stack:
                   dp: s4
                   port: 5
            4:
                description: "Agg2 -> Access2"
                stack:
                   dp: s5
                   port: 5

    s4:  # Access 1
        dp_id: 0x4
        hardware: "Open vSwitch"
        interfaces:
            1:
                name: "h1"
                description: "h1"
                native_vlan: main
            2:
                name: "h2"
                description: "h2"
                native_vlan: main
            3:
                name: "h3"
                description: "h3"
                native_vlan: main
            4:
                description: "Access1 -> Agg1"
                stack:
                   dp: s2
                   port: 3
            5:
                description: "Access1 -> Agg2"
                stack:
                   dp: s3
                   port: 3

    s5:  # Access 2
        dp_id: 0x5
        hardware: "Open vSwitch"
        interfaces:
            1:
                name: "h4"
                description: "h4"
                native_vlan: main
            2:
                name: "h5"
                description: "h5"
                native_vlan: main
            3:
                name: "h6"
                description: "h6"
                native_vlan: main
            4:
                description: "Access2 -> Agg1"
                stack:
                   dp: s2
                   port: 4
            5:
                description: "Access2 -> Agg2"
                stack:
                   dp: s3
                   port: 4
